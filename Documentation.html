<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Documentation</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="prism.css" media="screen">

<link rel="stylesheet" href="Documentation.css" media="screen">
    <script type="text/javascript" src="prism.js"></script>
    <script class="u-script" type="text/javascript" src="jquery-1.9.1.min.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "crosscountryconnections",
		"logo": "images/CCC logo.png"
}</script>
    <script>
      function w3_open() {
        document.getElementById("sidebar").style.display = "block";
      }

      function w3_close() {
        document.getElementById("sidebar").style.display = "none";
      }
    </script>


    <meta property="og:title" content="Documentation">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#60d394">
  </head>
  <body class="u-body"><div class="u-clearfix u-grey-greeen u-header u-header u-sticky" id="myHeader"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="/index.html" data-page-id="443509" class="u-image u-logo u-image-1" data-image-width="80" data-image-height="40">
          <img src="images/CCC logo.png" class="u-logo-image u-logo-image-1" data-image-width="64" width="40px">
        </a>
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg><use xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container" id="myHeader1">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-white u-text-hover-palette-5-base u-text-palette-3-base" href="index.html" style="padding: 10px 20px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-white u-text-hover-palette-5-base u-text-palette-3-base" href="About.html" style="padding: 10px 20px;">About</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-white u-text-hover-palette-5-base u-text-palette-3-base" href="Blogs.html" style="padding: 10px 20px;">Blogs</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-white u-text-hover-palette-5-base u-text-palette-3-base" href="Documentation.html" style="padding: 10px 20px;">Documentation</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="index.html" style="padding: 10px 20px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="About.html" style="padding: 10px 20px;">About</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Blogs.html" style="padding: 10px 20px;">Blogs</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Documentation.html" style="padding: 10px 20px;">Documentation</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></div> 


    <!-- sidebar -->
    <div class="w3-sidebar w3-bar-block w3-collapse w3-card w3-green w3-animate-left" style="width:200px" id="sidebar">
      <button class="w3-bar-item w3-button w3-hide-large w3-hover-blue-grey" onclick="w3_close()">Close &times;</button>
      <h3 class="w3-bar-item">Documentation</h3>
      <a href="#prototyping" class="w3-bar-item w3-button w3-hover-blue-grey">Prototyping</a>
      <a href="#finalbuild" class="w3-bar-item w3-button w3-hover-blue-grey">Final Physical Build</a>
      <a href="#code" class="w3-bar-item w3-button w3-hover-blue-grey">Code</a>
      <a href="#usertest" class="w3-bar-item w3-button w3-hover-blue-grey">User Testing</a>

    </div>
    <!-- page content -->
    <div class="w3-main" style="margin-left:200px; background-color:#D9FAC6; ">
      <div class="w3-container">
        <button class="w3-button w3-green w3-xlarge w3-hide-large w3-hover-blue-grey" onclick="w3_open()">&#9776;</button>
        <div class="w3-container">
        <h1>Documentation</h1>

        <h2 id="prototyping">Prototyping</h2>
      <p>
        In the prototypes, we used: <br>
        <ul>
          <li>2 push buttons</li>
          <li>2 LED light strips</li>
          <li>1 Arduino</li>
          <li>1 insulated wire</li>
          <li>cardboard</li>
        </ul>
        We used these to create two smaller versions to test how the spacing could work, as well as making sure we connect them across the country. 
      </p>
      
      <h2 id="finalbuild">Final Physical Build</h2>
      <p>
        For the final installations, we will be using: <br>
        <!-- will need to change this to past tense after finish building -->
        <ul>
          <li>12 LED light strips</li>
          <li>512 push buttons</li>
          <li>2 Raspberry Pi Computers</li>
          <li>2 Raspberry Pi Breakout Boards</li>
          <li>2 frosted acrylic boards</li>
          <li>2 wood boards</li>
        </ul>
        We will continue to update this list as we make progress on the final build. 
      </p>
      <h2 id="code">Code</h2>
      <p>
        The following is the code we implemented to connect the two boards and synchronize the lights and buttons. 
      </p>
      <pre>
        <code class="language-c">
  
  // NeoPixel Ring simple sketch (c) 2013 Shae Erisson
  // Released under the GPLv3 license to match the rest of the
  // Adafruit NeoPixel library
  
  #include &lt;Adafruit_NeoPixel.h&gt;
  #ifdef __AVR__
  #include &lt;avr/power.h&gt; // Required for 16 MHz Adafruit Trinket
  #endif
  
  // Which pin on the Arduino is connected to the NeoPixels?
  #define LEDPIN 6 // On Trinket or Gemma, suggest changing this to 1
  
  // How many NeoPixels are attached to the Arduino?
  #define NUMPIXELS 90 // Popular NeoPixel ring size
  
  // When setting up the NeoPixel library, we tell it how many pixels,
  // and which pin to use to send signals. Note that for older NeoPixel
  // strips you might need to change the third parameter -- see the
  // strandtest example for more information on possible values.
  Adafruit_NeoPixel pixels(NUMPIXELS, LEDPIN, NEO_GRB + NEO_KHZ800);
  
  const int buttonSize = 15;  
  
  const int buttonPin[buttonSize] = {A0, A1, A2, 
                              A3, A4, A5, 
                              2, 3, 4, 
                              8, 9, 10, 
                              11, 12, 13};   
  
  bool buttonSwitch[buttonSize];
  bool buttonUnpressed[buttonSize];
  bool receivedValues[buttonSize];
  int buttonReceived = 0;
  bool newReceived = false;
  
  void setup() {
    // These lines are specifically to support the Adafruit Trinket 5V 16 MHz.
    // Any other board, you can remove this part (but no harm leaving it):
  #if defined(__AVR_ATtiny85__) && (F_CPU == 16000000)
    clock_prescale_set(clock_div_1);
  #endif
    // END of Trinket-specific code.
  
    pixels.begin(); // INITIALIZE NeoPixel strip object (REQUIRED)
  
    for(int i=0; i&lt;15; i++){
      pinMode(buttonPin[i], INPUT_PULLUP);
    }
  
    Serial.begin(115200);
    
    pixels.clear(); // Set all pixel colors to 'off'
  
  }
  
  void loop() {
    for(int i=0; i&lt;buttonSize; i++){
      if(digitalRead(buttonPin[i]) == LOW && buttonUnpressed[i]) { //pressed and previously unpressed
        buttonSwitch[i] = !buttonSwitch[i]; //if light on turn light off, if light off turn light on 
        buttonUnpressed[i] = false;
        Serial.println(i);
        int n = i*3+(i/3)*11; //connecting each button to its three lights  
  
        if(buttonSwitch[i]) {
          pixels.setPixelColor(n, pixels.Color(0, 0, 150));
          pixels.setPixelColor(n+1, pixels.Color(0, 0, 150));
          pixels.setPixelColor(n+2, pixels.Color(0, 0, 150));
        } else {
          pixels.setPixelColor(n, pixels.Color(0, 0, 0));
          pixels.setPixelColor(n+1, pixels.Color(0, 0, 0));
          pixels.setPixelColor(n+2, pixels.Color(0, 0, 0));
        }
      } 
  
      if(digitalRead(buttonPin[i]) == HIGH && !buttonUnpressed[i]){
        buttonUnpressed[i] = true;
      }
    }
  
    if(newReceived) {
      Serial.println(buttonReceived);
      receivedValues[buttonReceived] = !receivedValues[buttonReceived];
      newReceived = false;
      int i = buttonReceived;
      int j = i - (i%3) + ((i%3)*2+2)%3;
      int n = 10 + j*3 + (j/3)*11;
      //if doing 2 lights to each button: 
      //int j = i - (i%3) + ((i%3)*2+2)%3;
      //int n = 7 + j*2 + (j/3)*8;

      
      if(receivedValues[buttonReceived]) {
        pixels.setPixelColor(n, pixels.Color(150, 0, 0));
        pixels.setPixelColor(n+1, pixels.Color(150, 0, 0));
        pixels.setPixelColor(n+2, pixels.Color(150, 0, 0));
      } else {
        pixels.setPixelColor(n, pixels.Color(0, 0, 0));
        pixels.setPixelColor(n+1, pixels.Color(0, 0, 0));
        pixels.setPixelColor(n+2, pixels.Color(0, 0, 0));
      }
    }
    pixels.show();
  }
  
  void serialEvent() {
    while(Serial.available()){
      buttonReceived = Serial.readString().toInt();
      
      newReceived = true;
    }
  }


        </code>
      </pre>
      <!-- <p>The following code is what we are using to connect MQTT to Unity to look at our button presses digitally. </p>
      <pre>
        <code class="language-c">
          
        </code>
      </pre> -->
      
      <h2 id="usertest">User Testing</h2>
      <p>
        Based on user testing from the prototypes, we learned: 
        <ul>
          <li>users could easily get bored</li>
          <li>we would need a key to explain the left and right sides of the buttons</li>
          <li>boards did not match when there were a lot of inputs (i.e. button presses at the same time) </li>
          <li>we could set goals for users:</li>
          <ul>
            <li>make suggestions for users to draw</li>
            <li>encourage a game of tic tac toe (we could have a preset that transforms board into a tic tac toe board)</li>
          </ul>
          <li>lights were a little bright (we will be using acrylic to diffuse the light and are considering having a knob to control brightness)</li>
          <li>we could consider adding a reset button to clear the board</li>
        </ul>
      </p>      
    </div>
    </div>
  </div>
    
  <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-ea6f"><div class="u-clearfix u-sheet u-sheet-1">
    <p class="u-small-text u-text u-text-variant u-text-1">Questions or concerns? <a href="mailto::crosscountryconnections.help@gmail.com">Contact Us</a>
      <br>
      Cross Country Connections, 2021
    </p>
  </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
    
    </section>
    </body>
    </html>